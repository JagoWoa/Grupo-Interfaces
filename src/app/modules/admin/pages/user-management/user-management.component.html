<div class="container mx-auto p-6">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold">üë• Gesti√≥n de Usuarios</h1>
    <a routerLink="/admin" class="btn btn-outline">‚Üê Volver</a>
  </div>

  <!-- Loading -->
  <div *ngIf="cargando" class="flex justify-center py-8">
    <span class="loading loading-spinner loading-lg"></span>
  </div>

  <!-- Tabla de usuarios -->
  <div *ngIf="!cargando" class="card bg-base-100 shadow-md">
    <div class="card-body">
      <div class="overflow-x-auto">
        <table class="table table-zebra">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Correo</th>
              <th>Rol</th>
              <th>Tel√©fono</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let usuario of usuarios">
              <td>{{ usuario.nombre }}</td>
              <td>{{ usuario.correo }}</td>
              <td>
                <select 
                  class="select select-sm select-bordered"
                  [(ngModel)]="usuario.rol"
                  (change)="cambiarRol(usuario, usuario.rol)">
                  <option value="adulto">Adulto Mayor</option>
                  <option value="familiar">Familiar</option>
                  <option value="medico">M√©dico</option>
                  <option value="admin">Admin</option>
                </select>
              </td>
              <td>{{ usuario.telefono || 'N/A' }}</td>
              <td>
                <input 
                  type="checkbox" 
                  class="toggle toggle-success"
                  [checked]="usuario.activo"
                  (change)="toggleEstado(usuario)" />
              </td>
              <td>
                <button 
                  class="btn btn-error btn-sm"
                  (click)="eliminarUsuario(usuario)">
                  Eliminar
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
