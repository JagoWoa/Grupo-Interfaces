<div class="container mx-auto p-6">
  <h1 class="text-3xl font-bold mb-6">ðŸ“Š Panel de AdministraciÃ³n</h1>

  <!-- Loading -->
  <div *ngIf="cargando" class="flex justify-center py-8">
    <span class="loading loading-spinner loading-lg"></span>
  </div>

  <div *ngIf="!cargando">
    <!-- EstadÃ­sticas -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
      <div class="stats shadow">
        <div class="stat">
          <div class="stat-title">Total Usuarios</div>
          <div class="stat-value">{{ estadisticas.totalUsuarios }}</div>
        </div>
      </div>

      <div class="stats shadow">
        <div class="stat">
          <div class="stat-title">Total Mensajes</div>
          <div class="stat-value">{{ estadisticas.totalMensajes }}</div>
        </div>
      </div>

      <div class="stats shadow">
        <div class="stat">
          <div class="stat-title">Consultas</div>
          <div class="stat-value">{{ estadisticas.totalConsultas }}</div>
        </div>
      </div>

      <div class="stats shadow">
        <div class="stat">
          <div class="stat-title">Adultos Mayores</div>
          <div class="stat-value">{{ estadisticas.usuariosPorRol?.adulto || 0 }}</div>
        </div>
      </div>
    </div>

    <!-- Acciones rÃ¡pidas -->
    <div class="card bg-base-100 shadow-md mb-6">
      <div class="card-body">
        <h2 class="card-title">Acciones RÃ¡pidas</h2>
        <div class="flex gap-2 flex-wrap">
          <a routerLink="/admin/usuarios" class="btn btn-primary">Gestionar Usuarios</a>
          <button class="btn btn-outline">Ver Reportes</button>
          <button class="btn btn-outline">ConfiguraciÃ³n</button>
        </div>
      </div>
    </div>

    <!-- Consultas recientes -->
    <div class="card bg-base-100 shadow-md">
      <div class="card-body">
        <h2 class="card-title">Consultas Recientes</h2>
        <div class="overflow-x-auto">
          <table class="table">
            <thead>
              <tr>
                <th>Paciente</th>
                <th>MÃ©dico</th>
                <th>Tipo</th>
                <th>Estado</th>
                <th>Fecha</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let consulta of consultasRecientes">
                <td>{{ consulta.paciente?.nombre || 'N/A' }}</td>
                <td>{{ consulta.medico?.nombre || 'Sin asignar' }}</td>
                <td>
                  <span class="badge badge-outline">{{ consulta.tipo }}</span>
                </td>
                <td>
                  <span class="badge" [class.badge-success]="consulta.estado === 'finalizada'"
                        [class.badge-warning]="consulta.estado === 'en_curso'"
                        [class.badge-info]="consulta.estado === 'pendiente'">
                    {{ consulta.estado }}
                  </span>
                </td>
                <td>{{ consulta.fecha_solicitud | date:'short' }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
